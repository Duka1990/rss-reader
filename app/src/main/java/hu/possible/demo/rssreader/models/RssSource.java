package hu.possible.demo.rssreader.models;

import java.util.UUID;

import io.realm.RealmObject;
import io.realm.annotations.PrimaryKey;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;
import lombok.experimental.Accessors;

@NoArgsConstructor
@Accessors(prefix = "m")
public class RssSource extends RealmObject {

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// FIELDS
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    @PrimaryKey
    @Getter
    private String mId = UUID.randomUUID().toString();

    @Getter
    @Setter
    private String mUrl;

    @Getter
    @Setter
    private RssFeed mRssFeed;

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// FIELDS - - END
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// HELPERS
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    public String resolveTitle() {
        if (mRssFeed != null && mRssFeed.getChannel() != null) {
            return mRssFeed.getChannel().getTitle();
        } else {
            return mUrl;
        }
    }

    public String resolveDescription() {
        if (mRssFeed != null && mRssFeed.getChannel() != null) {
            return mRssFeed.getChannel().getDescription();
        } else {
            return null;
        }
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// HELPERS - - END
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}
